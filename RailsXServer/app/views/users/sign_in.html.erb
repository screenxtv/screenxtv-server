<style>
div.main{
  width:700px;
  margin:20px;
  text-align:left;
  padding:5px 20px;
}
#sign_in{background:#eef;}
#sign_up{background:#fed;}
#sign_in_button{background:#aaf;}
#sign_up_button{background:#fb8;}
#sign_in_button:hover{background:#88d;}
#sign_up_button:hover{background:#d96;}


form{
	border-radius:8px;
	background:white;
	width:270px;
	float:left;
	margin:20px;
	padding:10px;
	box-shadow:0 0 8px silver;
}
input{
	display:block;
	border-radius:4px;
	font-size:16px;
	height:24px;
	border:1px solid gray;
	margin:5px 0;
}
input[type=submit]{
	cursor:pointer;
	padding:0 20px;
}

input[type=text], input[type=password]{
	width:240px;
	padding:2px 5px;
}
div.sign_head{
	font-size:20px;
}
div.error{
	font-size:12px;
	color:red;
}

</style>
<center>
<div class='main'>
	<%= form_tag users_sign_in_path, id:'sign_in' do |f|%>
		<div class='sign_head'>Sign in</div>
		<%= text_field :sign_in, :name_or_email, placeholder:'username or email', value:params[:sign_in].try(:[],:name_or_email) %>
		<%= text_field :sign_in, :password, placeholder:'password', type:'password' %>
		<div class='error'><%= @sign_in_error %></div>
		<%= submit_tag 'Sign in',id:'sign_in_button' %>
	<% end %>
	<%= form_tag users_sign_up_path, id:'sign_up' do |f|%>
		<div class='sign_head'>Create your account</div>
		<%= text_field :sign_up, :name, placeholder:'username', autocomplete:'off', value:@sign_up_user.try(:name) %>
		<% @sign_up_errors.try(:[],:name).try(:each) do |error| %>
			<div class='error'>username <%= error %></div>
		<% end %>
		<%= text_field :sign_up, :email, placeholder:'email', autocomplete:'off', value:@sign_up_user.try(:email) %>
		<% @sign_up_errors.try(:[],:email).try(:each) do |error| %>
			<div class='error'>email <%= error %></div>
		<% end %>
		<%= text_field :sign_up, :password, type:'password', placeholder:'password' %>
		<% if @sign_up_errors.try(:[],:password_digest).present? %>
		<div class='error'>password invalid</div>
		<% end %>
		<% if @reserve_error %>
			<div class='error'><%= "cannot reserve url: #{@sign_up_user.name}" %></div>
		<% end %>
		<%= submit_tag 'Create account',id:'sign_up_button' %>
	<% end %>
	<div style='clear:left;'></div>
	<div style='font-size:18px;'>
		If you create your account:
		<ul>
			<li>
			  You can get a reserved url
			  (e.g. if your username is 'tompng', you'll get 'http://screenx.tv/tompng').
			</li>
			<li>
			  Chat logs in your broadcasting page are stored and not flushed.
			</li>
		</ul>
	</div>
</center>
